<!doctype html><html><head><title>2 July 2021</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/layouts/main.css><link rel=stylesheet href=/css/navigators/navbar.css><link rel=stylesheet href=/css/plyr.css><link rel=stylesheet href=/css/flag-icon.min.css><link href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css><meta property="og:title" content="2 July 2021"><meta property="og:description" content="Introduction to Sample Post"><meta property="og:type" content="article"><meta property="og:url" content="https://satwikvats.github.io/posts/day20/"><meta property="article:published_time" content="2020-06-08T08:06:25+06:00"><meta property="article:modified_time" content="2020-06-08T08:06:25+06:00"><meta name=description content="Introduction to Sample Post"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css><link rel=stylesheet href=/css/layouts/single.css><link rel=stylesheet href=/css/navigators/sidebar.css><link rel=stylesheet href=/css/style.css></head><body data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button onclick=toggleSidebar()>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=/>Satwik's PS1 Journey</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button onclick=toggleTOC()>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"></ul></div></div></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts data-filter=all>Posts</a></li><div class=subtree><li><a class=active href=/posts/day-1/ title=Introduction>Introduction</a></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(https://satwikvats.github.io/images/default-hero.jpg)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=/images/default-avatar_hu1b14593c51b09e0fcd18693678a8f4ed_42371_120x120_fit_box_2.png alt="Author Image"><h5 class=author-name></h5><p>June 8, 2020</p></div><div class=title><h1>2 July 2021</h1></div><div class=post-content id=post-content><ul><li><p>Started working around with Kubernetes.</p><ul><li><p>Made a directory <code>kubernetesinstallation</code> for storing private keys.</p></li><li><p>Created a VM to be used as a Master Node for my Kubernetes installation process.</p><pre><code>aws ec2 run-instances --image-id ami-0c1a7f89451184c8b --count 1 --key-name masternodessh --instance-type t2.micro
    
</code></pre><script src=https://asciinema.org/a/TBAH4doSotdyhEBFSANzBPLvi.js id=asciicast-TBAH4doSotdyhEBFSANzBPLvi async></script></li></ul></li><li><p>First attempt to connect to my Master Node using SSH.</p><ul><li><p>Attempted connecting to my Master Node VM via SSH client but failed to do so, since my connection timed out.</p><pre><code>ssh -i masternodessh.pem ubuntu@ec2-13-234-225-150.ap-south-1.compute.amazonaws.com
    
</code></pre></li><li><p>To make sure that my private key is not publicly visible, used the following command. Also, the private key file can be downloaded just once and make sure that its in the same directory as your
working directory.</p><pre><code>chmod 400 masternodessh.pem
    
</code></pre><script src=https://asciinema.org/a/yQUixrAIOoGu3Nf8yjlUQ1lSe.js id=asciicast-yQUixrAIOoGu3Nf8yjlUQ1lSe async></script></li><li><p>Tried connecting using Ec2 Instance Connect but failed.</p></li></ul></li><li><p>Second attempt to connect to my Master Node using SSH.</p><ul><li><p>Terminated the previous instance and created a new one with subnet and security group.</p><pre><code>aws ec2 run-instances --image-id ami-0c1a7f89451184c8b --count 1 --key-name masternodessh --instance-type t2.micro --security-group-ids  --subnet-id subnet-0d373cd18c07e0145
    
</code></pre><script src=https://asciinema.org/a/qvkGqhecwLzaxOz7akOraX1s2.js id=asciicast-qvkGqhecwLzaxOz7akOraX1s2 async></script></li><li><p>Failed to connect via SSH. Later realised that my instance was linked to a private subnet and hence, I didn&rsquo;t get a public DNS.</p><pre><code>ssh -i &quot;masternodessh.pem&quot; ubuntu@10.0.1.84
    
</code></pre><script src=https://asciinema.org/a/ya23FcocfqeeplwOWeWatdiJi.js id=asciicast-ya23FcocfqeeplwOWeWatdiJi async></script></li></ul></li><li><p>Third attempt to connect to my Master Node using SSH.</p><ul><li><p>Attached an internet Gateway.</p><pre><code>aws ec2 attach-internet-gateway --internet-gateway-id igw-014783f25b2794337 --vpc-id vpc-0e595b592d80b7cf4
    
</code></pre></li><li><p>Enabled DNS hostnames in VPC settings and &lsquo;auto-assign IPV4 address&rsquo; in the Subnet settings to &lsquo;yes&rsquo;.</p></li><li><p>Terminated the previous instance and created a new one with same subnet and security group.
<script src=https://asciinema.org/a/lS26m0pGw27oVeLmjGhObPPKF.js id=asciicast-lS26m0pGw27oVeLmjGhObPPKF async></script></p></li><li><p>Failed again, despite managing to get a public DNS.
<script src=https://asciinema.org/a/HfG8cOfYQr1oosPfgZ5J9sdMN.js id=asciicast-HfG8cOfYQr1oosPfgZ5J9sdMN async></script></p></li></ul></li><li><p>References:</p><ul><li><a href=https://stackoverflow.com/questions/20941704/ec2-instance-has-no-public-dns>Possible reasons for not getting a public DNS for SSH client</a></li><li><a href="https://www.youtube.com/watch?v=8UqtMcX_kg0">SSH to EC2 Instances using Linux or Mac Tutorial</a></li></ul></li></ul></div><div class=btn-improve-page><a href=https://github.com/hugo-toha/hugo-toha.github.io/edit/main/content/posts/day20/index.md title="Improve this page" target=_blank rel=noopener><i class="fas fa-code-branch"></i>Improve this page</a></div><hr><div class="row next-prev-navigator"></div><hr></div></div></div><a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center pl-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents></nav></div></div></section></div><footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=/#about>About</a></li><li class=nav-item><a class=smooth-scroll href=/#recent-posts>Recent Posts</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul></ul></div></div></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hossainemruz/toha target=_blank rel=noopener><img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_2.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">Â© 2020 Copyright.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script type=text/javascript src=/js/jquery-3.4.1.min.js></script><script type=text/javascript src=/js/popper.min.js></script><script type=text/javascript src=/js/bootstrap.min.js></script><script type=text/javascript src=/js/navbar.js></script><script type=text/javascript src=/js/plyr.js></script><script type=text/javascript src=/js/main.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js></script><script src=/js/single.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>