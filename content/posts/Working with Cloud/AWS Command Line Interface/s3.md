---
title: "s3"
date: 2020-06-08T06:00:20+06:00
menu:
  sidebar:
    name: s3
    identifier: s3
    parent: aws_cli
    weight: 4
---

- Experimentation with S3 Storage Buckets.

  - Made a Bucket manually on Console. Later deleted it to repeat the process on AWS.
  
  - Made a bucket on CLI.
    ```
    aws s3 mb s3://skvfirstbucket
    
    ```
  - The following command lists down all the buckets.
    ```
    aws s3 ls
    
    ```
  - Copied a file to bucket.
    ```
    aws s3 cp file.txt s3://skvfirstbucket/
    
    ```
    Here, `file.txt` is the filename and `skvfirstbucket` is the bucket name.
    
  - Synced one of my local Directories to AWS Bucket. Here, I created a backup for my Hugo Site content.
    ```
    aws s3 sync /home/satwik/HugoFirstSite.io/content s3://skvfirstbucket/HugoSiteContent
    
    ```
    Here, I have specified the path of directory as source along with bucket as target.
    
    {{<asciinema YYBpkYtuZl4M9KxwPnbpYY7Du>}}
    
  - If any changes are made to the local directory, those changes are updated in the bucket as well, on syncing again.
  
  - Removed a file from local directory and tried syncing, though it didn't work as expected.
  
  - To sync delete operations, `--delete` must be used in the command to enforce removal of file.
    ```
    aws s3 sync /home/satwik/HugoFirstSite.io/content s3://skvfirstbucket/HugoSiteContent --delete
    
    ```
    {{<asciinema t1Wep6MQMI1rqkFjTECm5xOKn>}}
    
  - Removed a sample file from bucket.
    ```
    aws s3 rm s3://skvfirstbucket/file.txt
    
    ```
    {{<asciinema 0CvOHDL3VH6v6bFvPmAPvrXGA>}}
    
  - Attempted removing an entire bucket after I was done with experimentation, which didn't work out as expected. AWS doesn't permit removal of non-empty buckets directly.
  
  - `--force` must be used in the command to enforce removal.
    ```
    aws s3 rb s3://skvfirstbucket --force 
    
    ```
    {{<asciinema mNnKXPVitpnwIwnG0viwK5hFS>}}